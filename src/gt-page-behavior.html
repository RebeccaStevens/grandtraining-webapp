<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../imports/gt.html">

<script>

  GT.PageBehavior = {
    properties: {

      /**
       * A referenceto the main app element.
       */
      app: {
        type: Object,
        value: function() {
          return GT.app;
        }
      },

      /**
       * State's whether or not this page has been succesfully initialised.
       */
      isInitialised: {
        type: Boolean,
        value: false,
        notify: true,
        readOnly: true
      }
    },

    /**
     * This method must be called once the page has finished loading.
     *
     * If the page does not need any extra data (i.e. it doesn't need to make any ajax requests)
     * This method should be called from the page's ready funcion. Otherwise this method should
     * be called once the ajax request has finished.
     */
    pageReady: function() {
      this._setIsInitialised(true);
      this.fire('page-loaded');
    },

    /**
     * This method should be called if an error occurs while initialising the page.
     */
    pageError: function() {
      this._setIsInitialised(false);
      this.fire('page-error');
    }
  };
</script>
