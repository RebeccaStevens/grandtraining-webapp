<link rel="import" href="../../../../../bower_components/polymer/polymer.html">
<link rel="import" href="../../../../../bower_components/paper-card/paper-card.html">
<link rel="import" href="../../../../../bower_components/paper-button/paper-button.html">
<link rel="import" href="../../../../../bower_components/paper-material/paper-material.html">
<link rel="import" href="../../../../../bower_components/iron-image/iron-image.html">
<link rel="import" href="../../../../../bower_components/neon-animation/animations/scale-up-animation.html">
<link rel="import" href="../../../../../bower_components/neon-animation/animations/scale-down-animation.html">
<link rel="import" href="../../../../../bower_components/neon-animation/animations/fade-in-animation.html">
<link rel="import" href="../../../../../bower_components/neon-animation/animations/fade-out-animation.html">
<link rel="import" href="../../../../../bower_components/neon-animation/neon-animation-runner-behavior.html">

<link rel="import" href="../../../../../styles/gt-styles.html">
<link rel="import" href="../../../../../imports/gt.html">
<link rel="import" href="../../../../gt-element-common-behavior.html">

<dom-module id="gt-class-category">
  <template>
    <style include="gt-styles">
      :host {
        display: block;
      }
      #card {
        width: 100%;
      }
      #card .card-content {
        overflow: auto;
        padding: 0 16px 16px 16px;
      }
      #previewImage {
        width: 40%;
        height: 0;
        padding-bottom: 40%;
        float: left;
        margin: 4px 16px 4px 0;
        overflow: hidden;
        border-radius: 6px;
        background-color: #ffffff;
      }
      #previewImage iron-image {
        width: 100%;
        height: 100%;
        padding-bottom: 100%;
      }
      @media (min-width: 640px) {
        #previewImage {
          width: 200px;
          height: 200px;
          padding-bottom: 0;
        }
        #previewImage iron-image {
          padding-bottom: 0;
        }
      }
      @media (min-width: 2560px) {
        #previewImage {
          width: 250px;
          height: 250px;
        }
      }
    </style>

    <paper-card id="card" heading="[[name]]">
      <div class="card-content">
        <paper-material id="previewImage" elevation="3">
          <iron-image src="[[imageSrc]]" placeholder="[[imagePlaceholder]]" preload fade sizing="cover"></iron-image>
        </paper-material>
        <content></content>
        <span class="clear"></span>
      </div>
      <div class="card-actions">
        <a name="classes" href$="[[href]]" tabindex="-1"><paper-button raised on-tap="_onMoreInfoTapped">More Info</paper-button></a>
      </div>
    </paper-card>
  </template>

  <script>
    Polymer({
      is: 'gt-class-category',

      behaviors: [
        GT.ElementCommonBehavior
      ],

      properties: {

        /**
         * The name of this category.
         */
        name: {
          type: String
        },

        /**
         * The path where the user can find more info on classes in this category.
         */
        href: {
          type: String,
          value: '#'
        },

        /**
         * The src of thhe image to display.
         */
        imageSrc: {
          type: String
        },

        /**
         * The placeholder image.
         */
        imagePlaceholder: {
          type: String
        },

        /**
         * The classes-hub element this element is apart of.
         */
        classesHub: {
          type: Object
        },

        /**
         * The details page this element links to.
         */
        detailsPage: {
          type: Object
        }
      },

      /**
       * Called when the more info button is tapped.
       */
      _onMoreInfoTapped: function() {
        this.classesHub.setClassCardToAnimateOn(this);
      }
    });
  </script>
</dom-module>
