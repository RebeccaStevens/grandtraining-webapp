<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../imports/gt.html">
<link rel="import" href="redux-store.html">

<script>

  var ElementCommonBehaviorImpl = {

    actions: {
      setVenue: function(venue) {
        return {
          type: 'SET_VENUE',
          venue: venue
        };
      },

      setPageLoading: function(loading) {
        return {
          type: 'SET_PAGE_LOADING',
          loading: loading
        };
      },

      setPageError: function(error) {
        return {
          type: 'SET_PAGE_ERROR',
          error: error
        };
      }
    },

    properties: {

      /**
       * A referenceto the main app element.
       */
      app: {
        type: Object,
        value: function() {
          return GT.app;
        },
        readOnly: true
      }
    },

    /**
     * Get a data url for the relative path given.
     *
     * @param {!String} path
     * @return {String}
     */
    getDataUri: function(path) {
      return GT.ReduxBehavior.getState().dataPath + path;
    },

    /**
     * Returns true if the array has any values.
     *
     * @param {Array} arr
     * @returns {Boolean}
     */
    doesArrayHaveValues: function(arr) {
      return arr && arr.length > 0;
    },

    /**
     * Returns true if the value is not undefined or null.
     *
     * @param {*} val
     * @returns {Boolean}
     */
    isDefined: function(val) {
      return val !== undefined && val !== null;
    },

    /**
     * Create a deep clone of the given object.
     *
     * @param {Object} obj - The object to clone
     * @returns {Object} - A deep clone of the object
     */
    cloneObject: function(obj) {
      return JSON.parse(JSON.stringify(obj));
    }
  };

  GT.ElementCommonBehavior = [GT.ReduxBehavior, ElementCommonBehaviorImpl]
</script>
